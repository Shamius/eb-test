const TEST_META = {
  build: "2026-02-24",
  title: "Работа с экономическим покупателем (Миллер–Хайман)",
};

const DIMENSIONS = {
  access: {
    name: "Доступ и контакт с экономическим покупателем",
    why: "Без прямого контакта трудно согласовать ценность, риски и «право на решение».",
    doNext: [
      "Сформулируй «право на разговор»: зачем экономическому покупателю тратить на тебя 20 минут.",
      "Попроси встречу через пользователя/внутреннего наставника: с чёткой целью и повесткой на языке бизнеса.",
      "Подготовь 3 вопроса про приоритеты и риски этого квартала (а не про функции продукта).",
    ],
  },
  value: {
    name: "Ценность в деньгах и в рисках",
    why: "Экономический покупатель покупает не «функции», а результат: деньги, риск, скорость, репутация.",
    doNext: [
      "Переведи проблему в деньги: потери, упущенная выгода, штрафы, простои, стоимость персонала.",
      "Согласуй базу сравнения: «как сейчас» vs «как будет», и предположения расчёта.",
      "Сделай одностраничник: 3 эффекта (деньги/риск/время) + что нужно от клиента, чтобы проверить.",
    ],
  },
  process: {
    name: "Процесс решения и критерии выбора",
    why: "Если не ясны критерии и шаги, сделка легко «умирает» в паузе и согласованиях.",
    doNext: [
      "Выясни критерии «да/нет» и кто их формулирует.",
      "Собери цепочку: кто готовит материалы, кто согласует, кто подписывает, какие сроки.",
      "Сделай совместный план действий: этапы, даты, ответственные, ожидаемый результат каждого шага.",
    ],
  },
  politics: {
    name: "Карта влияния и внутренняя поддержка",
    why: "В больших сделках решения коллективны: поддержка, сопротивление и коалиции решают.",
    doNext: [
      "Определи роли: пользователь, технический покупатель, экономический покупатель и внутренний наставник.",
      "Проверь уровень поддержки у каждого: за / нейтрален / против — и почему.",
      "Ищи внутреннего наставника: человека, который знает «как тут правда принимают решения».",
    ],
  },
  messaging: {
    name: "Разговор на языке руководителя",
    why: "С руководителями работают короткие, чёткие тезисы: цель, эффект, риск, сроки, следующий шаг.",
    doNext: [
      "Отрепетируй 60-секундный «деловой смысл»: проблема → эффект → вариант решения → что нужно обсудить.",
      "Подготовь ответы на 3 типовых возражения: «не время», «дорого», «есть приоритетнее».",
      "Сократи презентацию до 1–2 слайдов: решения и цифры — без «каталога функций».",
    ],
  },
  discipline: {
    name: "Управляемость сделки",
    why: "Экономический покупатель ценит предсказуемость: ясные шаги, обязательства и контроль рисков.",
    doNext: [
      "Фиксируй договорённости письменно: что решили, кто делает, к какому сроку.",
      "Держи «план Б» на случай переноса/заморозки: что можно сделать малым шагом.",
      "Закладывай «контрольные точки», где решение может сорваться, и готовь заранее аргументы.",
    ],
  },
};

// Банк вопросов. Типы: single | multi | likert | open
// Оценивание: points/maxPoints нормируется и умножается на weight.
const QUESTIONS = [
  // ACCESS
  {
    id: "A1",
    type: "single",
    dimension: "access",
    weight: 3,
    text: "В типовой сделке ты выходишь на экономического покупателя напрямую?",
    hint: "Речь о человеке, который контролирует бюджет и может сказать «да/нет».",
    options: [
      { text: "Да, почти всегда, и обычно в первой половине цикла", score: 5 },
      { text: "Иногда, но чаще ближе к финалу", score: 3 },
      { text: "Редко, обычно работаю через других участников", score: 1 },
      { text: "Почти никогда", score: 0 },
    ],
  },
  {
    id: "A2",
    type: "likert",
    dimension: "access",
    weight: 2,
    text: "Мне комфортно инициировать контакт с руководителем уровня директора/вице-президента/С-уровня.",
    hint: "1 — совсем некомфортно, 5 — спокойно делаю это регулярно.",
  },
  {
    id: "A3",
    type: "single",
    dimension: "access",
    weight: 2,
    text: "Если экономический покупатель избегает встречи, что ты обычно делаешь?",
    options: [
      { text: "Чётко формулирую бизнес-цель разговора и прошу 15–20 минут (через пользователя/внутреннего наставника)", score: 5 },
      { text: "Жду, пока меня «позовут» ближе к подписанию", score: 1 },
      { text: "Давлю на срочность и «надо согласовать»", score: 2 },
      { text: "Оставляю попытки и работаю только с пользователями", score: 0 },
    ],
  },

  // VALUE
  {
    id: "V1",
    type: "likert",
    dimension: "value",
    weight: 3,
    text: "Я умею переводить проблему клиента в деньги (потери/выгода/риски/сроки).",
    hint: "1 — почти никогда, 5 — делаю это в каждой крупной сделке.",
  },
  {
    id: "V2",
    type: "single",
    dimension: "value",
    weight: 3,
    text: "Что ты чаще всего показываешь экономическому покупателю?",
    options: [
      { text: "Финансовый и риск-эффект + предположения расчёта (что взяли за основу)", score: 5 },
      { text: "Демо/функции/технические детали", score: 1 },
      { text: "Кейсы «как у других» без цифр", score: 2 },
      { text: "Коммерческое предложение с ценой", score: 2 },
    ],
  },
  {
    id: "V3",
    type: "open",
    dimension: "value",
    weight: 3,
    text: "Напиши короткое обоснование ценности для экономического покупателя (6–10 строк).",
    hint: "Старайся: проблема → эффект (деньги/риск/время) → что предлагаешь обсудить → следующий шаг.",
    rubric: {
      maxPoints: 10,
      items: [
        { label: "Есть измеримый эффект (деньги/проценты)", points: 3, keywords: ["руб", "₽", "%", "млн", "тыс", "эконом", "выруч", "марж", "себестоим", "стоимост"] },
        { label: "Упомянут риск/штраф/простой/репутация", points: 2, keywords: ["риск", "штраф", "просто", "срыв", "репутац", "безопасн", "инцидент"] },
        { label: "Есть срок/скорость/время", points: 2, keywords: ["срок", "недел", "месяц", "квартал", "быстр", "ускор", "время"] },
        { label: "Есть «следующий шаг» (встреча/данные/проверка)", points: 3, keywords: ["встреч", "обсуд", "соглас", "провер", "данн", "пилот", "план", "следующ"] },
      ],
      note: "Алгоритм ищет ключевые элементы. Можно писать своими словами — но тогда лучше включать маркеры (деньги/риск/срок/шаг).",
    },
  },

  // PROCESS
  {
    id: "P1",
    type: "single",
    dimension: "process",
    weight: 3,
    text: "Насколько рано ты выясняешь критерии решения (по каким признакам выберут поставщика)?",
    options: [
      { text: "Рано: до предложения/пилота, и фиксирую их письменно", score: 5 },
      { text: "В середине: когда уже есть интерес", score: 3 },
      { text: "Поздно: ближе к финалу", score: 1 },
      { text: "Почти не выясняю", score: 0 },
    ],
  },
  {
    id: "P2",
    type: "likert",
    dimension: "process",
    weight: 2,
    text: "Я понимаю «цепочку решения»: кто готовит, кто согласует, кто подписывает и в какие сроки.",
  },
  {
    id: "P3",
    type: "single",
    dimension: "process",
    weight: 2,
    text: "Совместный план действий по сделке (этапы-даты-ответственные) у тебя обычно есть?",
    options: [
      { text: "Да, почти всегда (план — общий документ/письмо)", score: 5 },
      { text: "Иногда, но не всегда согласован с клиентом", score: 3 },
      { text: "Редко, чаще «держу в голове»", score: 1 },
      { text: "Нет", score: 0 },
    ],
  },

  // POLITICS
  {
    id: "K1",
    type: "multi",
    dimension: "politics",
    weight: 3,
    text: "Кого ты обычно идентифицируешь и ведёшь как отдельных участников решения? (можно несколько)",
    hint: "Не «контакты», а именно роли в решении.",
    options: [
      { text: "Экономический покупатель (бюджет/последнее слово)", score: 2 },
      { text: "Пользователь (кто будет использовать)", score: 1 },
      { text: "Технический покупатель (соответствие требованиям/может заблокировать)", score: 1 },
      { text: "Внутренний наставник/проводник (знает кухню решения)", score: 1 },
    ],
    multiMaxScore: 5,
  },
  {
    id: "K2",
    type: "likert",
    dimension: "politics",
    weight: 2,
    text: "Я обычно знаю, кто внутри клиента «за», «против» и кто сомневается — и почему.",
  },
  {
    id: "K3",
    type: "single",
    dimension: "politics",
    weight: 2,
    text: "Если вижу скрытое сопротивление, что делаю?",
    options: [
      { text: "Выясняю причины и связываю их с интересами конкретных ролей; ищу компромисс/обмен", score: 5 },
      { text: "Усиливаю давление на пользователя: «пусть продавит»", score: 2 },
      { text: "Иду «в лоб» в переписке всем сразу", score: 1 },
      { text: "Ничего: жду, пока само рассосётся", score: 0 },
    ],
  },

  // MESSAGING
  {
    id: "M1",
    type: "single",
    dimension: "messaging",
    weight: 2,
    text: "Как выглядит твоя типовая коммуникация с экономическим покупателем?",
    options: [
      { text: "Коротко: цель → эффект → риски → сроки → следующий шаг", score: 5 },
      { text: "Длинно: рассказываю контекст и «как устроен продукт»", score: 2 },
      { text: "Давлю на «надо успеть», «руководство просит»", score: 1 },
      { text: "Обычно общаюсь не с ним/ней", score: 0 },
    ],
  },
  {
    id: "M2",
    type: "open",
    dimension: "messaging",
    weight: 2,
    text: "Напиши 3 вопроса, которые ты задашь экономическому покупателю на первой встрече.",
    hint: "Хорошие вопросы — про приоритеты, критерии, риски, сроки и «цену бездействия».",
    rubric: {
      maxPoints: 10,
      items: [
        { label: "Есть вопрос про приоритет/цель", points: 2, keywords: ["приоритет", "цель", "важн", "стратег", "задач"] },
        { label: "Есть вопрос про критерии «да/нет»", points: 3, keywords: ["критер", "показател", "успех", "результ"] },
        { label: "Есть вопрос про бюджет/финансы", points: 2, keywords: ["бюджет", "финанс", "капекс", "опекс", "стоим"] },
        { label: "Есть вопрос про риск/цену бездействия", points: 3, keywords: ["риск", "если ничего", "последств", "штраф", "простой"] },
      ],
      note: "Алгоритм оценивает наличие ключевых смыслов, а не «красоту» формулировок.",
    },
  },
  {
    id: "M3",
    type: "likert",
    dimension: "messaging",
    weight: 2,
    text: "Я умею отвечать на «дорого» через сравнение с эффектом и риском, а не через скидку.",
  },

  // DISCIPLINE
  {
    id: "D1",
    type: "single",
    dimension: "discipline",
    weight: 2,
    text: "После встречи с экономическим покупателем ты обычно фиксируешь договорённости письменно?",
    options: [
      { text: "Да: что решили, кто делает, срок, следующий шаг", score: 5 },
      { text: "Иногда, если «важно»", score: 3 },
      { text: "Редко", score: 1 },
      { text: "Нет", score: 0 },
    ],
  },
  {
    id: "D2",
    type: "likert",
    dimension: "discipline",
    weight: 2,
    text: "В сделке у меня есть «контрольные точки», где я заранее проверяю риск срыва/заморозки.",
  },
  {
    id: "D3",
    type: "open",
    dimension: "discipline",
    weight: 2,
    text: "Представь: сделку «замораживают». Какой малый следующий шаг ты предложишь экономическому покупателю, чтобы не потерять темп?",
    hint: "Подумай про «малый риск» для клиента: уточнение цифр, проверка предположений, мини-пилот, согласование критериев.",
    rubric: {
      maxPoints: 10,
      items: [
        { label: "Шаг маленький и обратимый", points: 3, keywords: ["мал", "небольш", "мини", "коротк", "быстр"] },
        { label: "Шаг про проверку гипотез/цифр", points: 4, keywords: ["провер", "гипотез", "цифр", "данн", "оцен", "расчет", "метрик"] },
        { label: "Есть конкретика по сроку/формату", points: 3, keywords: ["недел", "дней", "15", "30", "встреч", "созвон", "пилот"] },
      ],
      note: "Идея: сохранить движение, снижая риск и нагрузку на клиента.",
    },
  },
];